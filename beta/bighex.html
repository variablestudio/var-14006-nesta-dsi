<html>
  <head>
    <script src="../lib/d3.v3.min.js"></script>
    <script src='../lib/d3.chart.min.js'></script>
    <script src='viz_config.js'></script>
    <script src='viz_bighex.js'></script>
    <script src='viz_tooltip.js'></script>
    <script src='../lib/jquery-2.1.1.min.js'></script>
    <script src='../js/fn.js'></script>
    <script src='../js/SPARQL.js'></script>
    <link href='viz.css' rel='stylesheet'>
  </head>
  <body>
    <div id="bigHexViz"></div>
    <script>
      VizConfig.tooltip = new VizTooltip();

      var vizContainer = d3.select("#bigHexViz");
      var chart = vizContainer
        .append("svg")
        .style("margin-left", "2em")
        .style("margin-top", "2em")
        .attr("width", window.innerWidth)
        .attr("height", window.innerHeight)
        .chart("BigHex")
        .width(400)
        .height(400)

      function randomInt(min, max) {
        return Math.floor(min + Math.random() * (max + 1 - min));
      }

      var orgProjectsAreas = [
        { areaOfDSI: 'funding-acceleration-and-incubation', count: randomInt(0, 8) },
        { areaOfDSI: 'collaborative-economy', count: randomInt(0, 8) },
        { areaOfDSI: 'open-democracy', count: randomInt(0, 8) },
        { areaOfDSI: 'awareness-networks', count: randomInt(0, 8) },
        { areaOfDSI: 'new-ways-of-making', count: randomInt(0, 8) },
        { areaOfDSI: 'open-access', count: randomInt(0, 8) }
      ];
      orgProjectsAreas.forEach(function(projectsArea) {
        projectsArea.color = VizConfig.dsiAreasById[projectsArea.areaOfDSI].color;
        projectsArea.projects = fn.sequence(0, projectsArea.count);
      });

      chart.draw(orgProjectsAreas);
    </script>
  </body>
</html>
